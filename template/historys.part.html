<div class="ui dropdown transition hidden" id="histoy_dropdown">
  <div class="text">Recent</div>
  <i class="dropdown icon"></i>
  <div class="icon menu">
  </div>
</div>

<script>
var room_history = access_cookies('history');
function remove_historys(index)
{
  var room_history = access_cookies('history');
  if (!room_history) room_history = [];
  if (index > -1)
      room_history.splice(index, 1);
  access_cookies('history',room_history);
  display_historys();
}
function display_historys()
{
  var menu = $('#histoy_dropdown .menu').empty();
  if (room_history)
  {
      $.each(room_history,function(i,e){
          menu.append('<div class="item" target="'+e+'"><span class="description" onclick="remove_historys('+i+')">'
                      +'<i class="remove icon"></i></span>'+format_history(e,{{len(root)}})+'</div>');
      });
      $('#histoy_dropdown')
        .removeClass('transition hidden')
        .dropdown({
            onChange: function(t,h,selectedItem) {
              window.location = selectedItem.attr('target');
            }
          });;
  }
}
$(function(){
  display_historys();
});
</script>